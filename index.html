<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Check VIP</title>
</head>
<body>

<h2 id="title">ğŸ” ÄÄ‚NG NHáº¬P CHECK VIP</h2>

<div id="loginBox">
  <input id="email" placeholder="Email">
  <br><br>
  <input id="password" type="password" placeholder="Password">
  <br><br>
  <button onclick="login()">ÄÄƒng nháº­p</button>
  <p id="msg"></p>
</div>

<div id="app" style="display:none">
  <h1>CHECK VIP</h1>

  <input id="uid" placeholder="Nháº­p UID cáº§n check">
  <button onclick="checkVip()">Check</button>

  <p id="result"></p>

  <br>
  <button onclick="logout()">ÄÄƒng xuáº¥t</button>
</div>

<script type="module">
import { auth } from "./firebase.js";
import {
  signInWithEmailAndPassword,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

// KIá»‚M TRA LOGIN
onAuthStateChanged(auth, (user) => {
  if (user) {
    loginBox.style.display = "none";
    app.style.display = "block";
    title.innerText = "âœ… CHECK VIP";
  } else {
    loginBox.style.display = "block";
    app.style.display = "none";
    title.innerText = "ğŸ” ÄÄ‚NG NHáº¬P CHECK VIP";
  }
});

// LOGIN
window.login = function () {
  signInWithEmailAndPassword(
    auth,
    email.value,
    password.value
  ).catch(err => {
    msg.innerText = err.message;
  });
};

// LOGOUT
window.logout = function () {
  signOut(auth);
};

// CHECK VIP (demo)
window.checkVip = function () {
  if (!uid.value) {
    result.innerText = "âŒ Nháº­p UID";
    return;
  }
  result.innerText = "âœ… UID " + uid.value + " há»£p lá»‡ (demo)";
};
</script>

</body>
</html>
